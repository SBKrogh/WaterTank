\chapter{Conclusion}\label{cha:conclusion}


A new communication protocol between the embedded system and the processing unit has been implemented. The old JSON format has been discarded and replaced by a binary representation of the data. This decreased the data size sent between the embedded system and the processing unit by 85 \%.\\ 
The change from TCP to UDP and the change from JSON to a binary representation of the data sent, have increased the communication speed from 100 Hz to 638 Hz. This was however not enough to fulfill the goal of 1000 Hz between the embedded system and the processing unit.\\
The theoretical communication speed from the embedded system to the Geomagic Touch have increased from 91 Hz to 390 Hz, which is 160 Hz lower than the goal of this project. 


% The communication protocol has significantly increased the refresh rate of the communication between the embedded system and the processing unit. This protocol includes a new format for exchanging data and modified the transport protocol used. However the desired refresh rate could not be reached.

A Hammerstein Wiener model has been implemented for estimating the force applied to the end-effector. This model is capable of estimating the trend of the force applied to the end-effector, by
using the velocity and current measured on the actuator. Even though the model can estimate the trend of the force, a short delay appears between the force affecting the end-effector and the force fed back to the haptic device. This delay was between 0.2 to 0.7 seconds, depending on if the force is applied or released. 


% The estimator derived dynamically corresponds to the variations in current and position. Although a delay is present in the feedback, the model is stable and can perform independently of the velocity of the human hand.

It was observed that force was fed back during movement, even when no external forces were applied to the end-effector. This was due to the nonlinear friction in the EndoWrist that had to be overcome before any movement could be made. A simple friction model has been derived to compensate for this feedback. The friction model has only been simulated on existing data, but has given promising results. 


An attempt has been made on implementing a Kalman filter for improving the estimation of the force. However no significant improvement was observed.



% A simulation of a compensator for the friction in the EndoWrist has been derived and simulated.  

% A high friction due to the nonlinearity of the EndoWrist has been compensated. This 

% Due to the nonlinearity of the EndoWrist a high friction is by 


% The friction model derived improves the accuracy of the feedback by reducing the force fed back at low current.