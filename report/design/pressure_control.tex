\section{PI controller}
\label{pressure_control}

As described in \secref{control_problem} the two PMA pumps should generate a constant differential pressure. Furthermore \secref{control_problem} conclude that a simple PI controller, reacting to a reference calculated by the MPC, should be used to control the pressure generated by the main pumps. 

In \appref{cha:linear_pump} a linearized transfer function is derived. Whit the operating point of the four pumps and their respective parameters shown in \appref{system_description}, four different models are derived as 

\todo{include the models}

The controllers are design through the Matlab toolbox \textit{Control System Designer App}\citep{GSTWTCSD}, with the approach of the same control characteristics. Since the time constant of the water system is large, the settling time of the PI controllers has been chosen to 5 seconds. 

With the settling time in mind the following controllers has been designed

\todo{include the PI controllers}





% For convenience the simple controller, that should be used for the PMA pumps, is also chosen as a PI controller. The two set of pumps are very similar, only deviating in a few parameters. Therefor only one of the controller will be explained in this section.  

